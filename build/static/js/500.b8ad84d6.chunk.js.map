{"version":3,"file":"static/js/500.b8ad84d6.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesDetailsPage/MoviesDetailsPage.module.css?77e7","components/MoviesDetailsPage/MoviesDetailsPage.jsx","data/GetSearchApi.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie-detail\":\"MoviesDetailsPage_movie-detail__Zs13G\",\"movie-detail-info\":\"MoviesDetailsPage_movie-detail-info__EvXy2\",\"movie-detail-additional\":\"MoviesDetailsPage_movie-detail-additional__ykp66\"};","import { useState, useEffect } from 'react'\r\nimport { lazy, Suspense } from \"react\"\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { Route } from \"react-router-dom\"\r\nimport { useParams } from 'react-router-dom';\r\nimport * as getSearchApi from '../../data/GetSearchApi'\r\nimport s from './MoviesDetailsPage.module.css'\r\n\r\nconst Cast = lazy(()=> import(\"../Cast/Cast\"))  \r\nconst Reviews = lazy(()=> import(\"../Reviews/Reviews\"))  \r\n\r\nexport default function MoviesDetailsPage() {\r\n   const history = useHistory();\r\n   const location = useLocation();\r\n   const {movieId} = useParams();\r\n\r\n   // console.log(movieId)\r\n\r\n   const [movieDetail, setMovieDetail] = useState([]);\r\n\r\n   useEffect(() => {\r\n      movieDetail && getSearchApi.getMovieId(movieId).then((setMovieDetail));\r\n   },[]); \r\n\r\n   const handleGoBack = () => {\r\n      history.push(location.state.from);\r\n    };\r\n\r\n   return(\r\n       <>\r\n       <button type=\"button\" onClick={handleGoBack}>\r\n        GoBack\r\n      </button>\r\n         <div className={s[\"movie-detail\"]}>\r\n             {movieDetail.poster_path && <img\r\n               src={`https://image.tmdb.org/t/p/w300/${movieDetail.poster_path}`}\r\n               alt={movieDetail.original_title}\r\n            />}\r\n            <div className={s[\"movie-detail-info\"]}>\r\n               <h1>{movieDetail.original_title}</h1>\r\n               <p>User scores: {movieDetail.vote_average}</p>\r\n\r\n               <h2>Overview</h2>\r\n               <p>{movieDetail.overview}</p>\r\n               <h3>Genres</h3>\r\n              {movieDetail.genres && <p>{(movieDetail.genres.map(genre => genre.name)).join(\" \")}</p>}\r\n            </div>\r\n         </div>\r\n         <hr></hr>\r\n         <div className={s[\"movie-detail-additional\"]}>\r\n            <p>Additional information</p>\r\n            <ul>\r\n               <li>\r\n                  <Link to={{\r\n              pathname: `/movies/${movieId}/cast`,\r\n              state: {\r\n               from: location.state?.from || '/',\r\n               movies: location.state?.movies,\r\n              },\r\n                   }}>Cast</Link>  \r\n               </li>\r\n               <li>\r\n               <Link to={{\r\n              pathname: `/movies/${movieId}/reviews`,\r\n              state: {\r\n               from: location.state?.from || '/',\r\n               movies: location.state?.movies,\r\n              },\r\n                   }}>Reviews</Link>   \r\n               </li>\r\n            </ul>\r\n         </div>\r\n         <hr></hr>\r\n         <Suspense fallback={<h1>Wait a second, look at the sky during waiting...</h1>}>\r\n            <Route path={`/movies/:movieId/cast`}>\r\n               <Cast />\r\n            </Route>\r\n            <Route path={`/movies/:movieId/reviews`}>\r\n               <Reviews />\r\n            </Route>\r\n         </Suspense>\r\n      </>\r\n   )\r\n}","import axios from \"axios\";\r\n\r\n\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3/\";\r\n\r\nexport const getPopularMovies = () => {\r\n  axios.defaults.params = {\r\n   api_key: \"f02791c07431f6e71112b21384bb0659\",\r\n  };\r\n  return axios\r\n    .get(\"/trending/movie/day\")\r\n    .then(({ data }) => data.results)\r\n    .catch((err) => {\r\n      throw err;\r\n    });\r\n};\r\n// https://api.themoviedb.org/3/movie/{movie_id}?api_key=<<api_key>>&language=en-US\r\n\r\nexport const getMovieId = (movie_id) => {\r\n  axios.defaults.params = {\r\n   api_key: \"f02791c07431f6e71112b21384bb0659\",\r\n  };\r\n  return axios\r\n    .get(`/movie/${movie_id}`)\r\n    .then(({ data }) => data)\r\n    .catch((err) => {\r\n      throw err;\r\n    });\r\n};\r\n\r\nexport const getMovieIdCast = (movie_id) => {\r\n  axios.defaults.params = {\r\n   api_key: \"f02791c07431f6e71112b21384bb0659\",\r\n  };\r\n  return axios\r\n    .get(`/movie/${movie_id}/credits`)\r\n    .then(({ data }) => data.cast)\r\n    .catch((err) => {\r\n      throw err;\r\n    });\r\n};\r\nexport const getMovieIdReview = (movie_id, page = 1) => {\r\n  axios.defaults.params = {\r\n   api_key: \"f02791c07431f6e71112b21384bb0659\",\r\n   page\r\n  };\r\n  return axios\r\n    .get(`/movie/${movie_id}/reviews`)\r\n    .then(({ data }) => data)\r\n    .catch((err) => {\r\n      throw err;\r\n    });\r\n};\r\nexport const getMovieByInput = (query, page = 1) => {\r\n  axios.defaults.params = {\r\n   api_key: \"f02791c07431f6e71112b21384bb0659\",\r\n   query,\r\n   page\r\n  };\r\n  return axios\r\n    .get(`/search/movie`)\r\n    .then(({ data }) => {\r\n      \r\n      if (!data.results.length) {\r\n      throw new Error(\"Porno?! Really?! Sergey are You 18 already?\");\r\n    }\r\n   \r\n    return data.results\r\n  })\r\n    .catch((err) => {\r\n      throw err;\r\n    });\r\n};"],"names":["Cast","lazy","Reviews","MoviesDetailsPage","history","useHistory","location","useLocation","movieId","useParams","useState","movieDetail","setMovieDetail","useEffect","getSearchApi","then","type","onClick","push","state","from","className","s","poster_path","src","alt","original_title","vote_average","overview","genres","map","genre","name","join","to","pathname","movies","Suspense","fallback","path","axios","getPopularMovies","api_key","data","results","catch","err","getMovieId","movie_id","getMovieIdCast","cast","getMovieIdReview","page","getMovieByInput","query","length","Error"],"sourceRoot":""}